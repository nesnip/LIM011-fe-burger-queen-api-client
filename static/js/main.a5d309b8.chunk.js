(this["webpackJsonplim011-fe-burger-queen-api-client"]=this["webpackJsonplim011-fe-burger-queen-api-client"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/burger.be93cb1b.png"},function(e,t,n){e.exports=n.p+"static/media/garbage.56b66ec8.svg"},,,,,,function(e,t,n){},,,,function(e,t,n){e.exports={flex:"styles_flex__397fI"}},function(e,t,n){e.exports=n(40)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),c=n.n(l),o=(n(27),n(7)),i=n(6),s=n(2),u=(n(28),n(10)),m=n.n(u),d=function(e){var t=e.email,n=e.password,a=e.handleSubmit,l=e.handleEmail,c=e.handlePassword;return r.a.createElement("div",{className:"container-form"},r.a.createElement("form",{className:"login",onSubmit:a},r.a.createElement("img",{src:m.a,alt:"logo",className:"logo"}),r.a.createElement("p",{className:"title"},r.a.createElement("span",{className:"title initials"},"B"),"urger"," ",r.a.createElement("span",{className:"title initials"},"Q"),"ueen"),r.a.createElement("input",{type:"email",value:t,className:"txt-form",id:"email-login",placeholder:"Ingrese E-mail",onChange:l}),r.a.createElement("input",{type:"password",value:n,className:"txt-form",id:"password-login",placeholder:"Ingrese Contrase\xf1a",onChange:c}),r.a.createElement("button",{className:"btn-form",id:"btn-login",type:"submit",onClick:a},"Iniciar sesi\xf3n")))},E=function(e,t){return fetch("http://138.68.51.45/auth",{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?(console.log(e),e.json()):400===e.status?(console.log(e),Promise.reject(console.log("ingrese email y contrase\xf1a"))):""}))},f=function(){var e=Object(i.f)(),t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),m=u[0],f=u[1];return r.a.createElement(d,{email:l,password:m,handleSubmit:function(t){t.preventDefault(),E(l,m).then((function(t){void 0===t.token?console.log("Email y contrase\xf1a incorrecto"):(localStorage.setItem("token",t.token),console.log("este es el token: ".concat(localStorage.getItem("token"))),e.push("/Home"))}))},handleEmail:function(e){c(e.target.value)},handlePassword:function(e){f(e.target.value)}})},h=(n(17),n(34),function(e){var t=e.id,n=e.image,l=e.name,c=e.price,o=e.addProduct,i=Object(a.useState)(0),u=Object(s.a)(i,2),m=u[0],d=u[1];return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:n,alt:"imagen",className:"item-photo"}),r.a.createElement("div",{className:"card-text"},r.a.createElement("p",{className:"card-name","data-testid":"itemProduct"},l),r.a.createElement("p",{className:"card-price","data-testid":"item-price"},"S/.",c,".00")),r.a.createElement("div",{className:"btn-group btn-container",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){d(m>0?m-1:0)}},"-"),r.a.createElement("input",{"data-testid":"item-count",className:"quantity btn btn-dark",value:m,onChange:function(){}}),r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){d(m+1)}},"+")),r.a.createElement("button",{type:"button",className:"btn btn-dark",disabled:m<=0,onClick:function(){o(m,t),d(0)}},"Agregar"))}),p=function(e){var t=e.handleClick,n=e.dataProducts,a=e.addProduct;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#breakfast",id:"desayuno",onClick:function(){return t("desayuno")}},"Desayuno")),r.a.createElement("li",null,r.a.createElement("a",{href:"#lunch",id:"almuerzo",onClick:function(){return t("almuerzo")}},"Almuerzo")),r.a.createElement("li",null,r.a.createElement("a",{href:"#complements",id:"complementos",onClick:function(){return t("complementos")}},"Complementos")),r.a.createElement("li",null,r.a.createElement("a",{href:"#drinks",id:"bebida",onClick:function(){return t("bebida")}},"Bebidas"))),r.a.createElement("div",{className:"container-card"},n.map((function(e){return r.a.createElement(h,{key:e._id,id:e._id,image:e.image,name:e.name,price:e.price,objProduct:e,addProduct:a})}))))},g=(n(35),function(){return r.a.createElement("ul",{className:"nav-header"},r.a.createElement("li",{className:"title-li"},r.a.createElement("p",{className:"title-header"},r.a.createElement("img",{src:m.a,alt:"logo",className:"logo-header"}),r.a.createElement("span",{className:"title-header initials-header"},"B"),"urger"," ",r.a.createElement("span",{className:"title-header initials-header"},"Q"),"ueen")),r.a.createElement(o.b,{to:"/Home"},r.a.createElement("li",{className:"li-header",id:"productos"},"Productos")),r.a.createElement(o.b,{to:"/OrdersKitchen"},r.a.createElement("li",{className:"li-header",id:"cocina"},"Cocina ")),r.a.createElement(o.b,{to:"/OrdersKitchen"},r.a.createElement("li",{className:"li-header",id:"mesero"},"Mesero ")))}),b=(n(36),n(37),n(11)),v=n.n(b),y=function(e){var t=e.name,n=e.qty,a=e.price,l=e._id,c=e.deleteProduct;return r.a.createElement("tr",null,r.a.createElement("td",{"data-testid":"item-name"},t),r.a.createElement("td",{"data-testid":"item-qty"},n),r.a.createElement("td",null,"S/.",a*n,".00"),r.a.createElement("td",null,r.a.createElement("span",{id:"btn-deleted",className:"btn-deleted"},r.a.createElement("img",{id:"trash",src:v.a,alt:"Eliminar",onClick:function(){return c(l)}}))))},N=function(e){var t=e.dataOrder,n=e.deleteProduct,a=e.sendOrder,l=e.handleName,c=0;return t.forEach((function(e){c+=e.price*e.qty})),r.a.createElement("div",{className:"container-order"},r.a.createElement("div",{className:"order-body"},r.a.createElement("h4",null,"Nueva Orden"),r.a.createElement("input",{type:"text",className:"txt-form",id:"name-client",placeholder:"Ingrese nombre del cliente",onChange:l}),r.a.createElement("table",{className:"egt"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(y,{key:e._id,name:e.name,price:e.price,qty:e.qty,_id:e._id,deleteProduct:n})})),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),r.a.createElement("th",null," "),r.a.createElement("th",null,"S/.",c,".00"),r.a.createElement("th",null," ")))),r.a.createElement("button",{className:"btn-enviar",id:"btn-enviar",type:"submit",onClick:a},"Enviar a Cocina")))},k=function(e){return fetch("http://138.68.51.45/products?limit=13",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return 200===e.status?e.json():401===e.status?Promise.reject(console.log("no existe autentificaci\xf3n")):console.log(e.statusText)}))},j=function(e,t,n,a){return fetch("http://138.68.51.45/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,client:n,products:a})}).then((function(e){return 200===e.status?e.json():400===e.status?Promise.reject(console.log("Ingrese productos")):Promise.reject(console.log("No existe autentificaci\xf3n"))}))},C=n(21),O=n.n(C),P=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(a.useState)(""),d=Object(s.a)(m,2),E=d[0],f=d[1],h=Object(a.useState)(""),b=Object(s.a)(h,2),v=b[0],y=b[1],C=localStorage.getItem("token"),P=function(){return k(localStorage.getItem("token")).then((function(e){return l(""!==E?e.filter((function(e){return e.type===E})):e)}))};Object(a.useEffect)((function(){P()}),[E]);return r.a.createElement("div",{className:O.a.flex},r.a.createElement(g,null),r.a.createElement(p,{handleClick:function(e){f(e)},dataProducts:n,addProduct:function(e,t){var a=i,r=i.findIndex((function(e){return e._id===t}));if(r>=0)a[r].qty+=e,u(a);else{var l=n.find((function(e){return e._id===t}));l.qty=e,a.push(l),u(a)}console.log(a),P()}}),r.a.createElement(N,{dataOrder:i,deleteProduct:function(e){var t=i,n=i.findIndex((function(t){return t._id===e}));t.splice(n,1),u(t),console.log(t),P()},sendOrder:function(){v?j(C,"01",v,i.map((function(e){return{productId:e._id,qty:e.qty}}))).then((function(){return y("")}),u([])):alert("Ingrese nombre del cliente")},handleName:function(e){y(e.target.value)}}))},S=(n(38),function(e){var t=e.chooseCategory;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#breakfast",id:"pending",onClick:function(){return t("pending")}},"Pediente")),r.a.createElement("li",null,r.a.createElement("a",{href:"#lunch",id:"delivered",onClick:function(){return t("delivered")}},"Entregado")),r.a.createElement("li",null,r.a.createElement("a",{href:"#complements",id:"delivering",onClick:function(){return t("delivering")}},"Entregando")),r.a.createElement("li",null,r.a.createElement("a",{href:"#drinks",id:"cancel",onClick:function(){return t("canceled")}},"Cancelado"))))}),I=(n(39),function(e,t,n,a,r,l){return fetch("http://138.68.51.45/orders/".concat(l),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({userId:a,client:e,ArrayProduct:t,status:r})}).then((function(n){return 200===n.status?(console.log("ok"),n.json()):400===n.status?Promise.reject(console.log("No se indica propiedad a modificar")):401===n.status?Promise.reject(console.log("No existe autentificaci\xf3n")):404===n.status?Promise.reject(console.log("No existe ID de orden",a,l,e,t,r)):""}))}),x=function(e,t){return fetch("http://138.68.51.45/orders/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return 200===e.status?(console.log(t),e.json()):401===e.status?Promise.reject(console.log("No existe autentificaci\xf3n")):404===e.status?Promise.reject(console.log("No existe ID")):console.log(e.statusText)}))},w=function(e){var t=e.client,n=e.ArrayProduct,l=e.dateEntry,c=e.status,o=e.dateProcessed,i=e._id,s=e.userId,u=e.viewAllOrder;return Object(a.useEffect)((function(){u()}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"btn-deleted-trash"},r.a.createElement("img",{id:"trash-order",src:v.a,alt:"Eliminar",onClick:function(){x(localStorage.getItem("token"),i).then((function(e){return console.log(e)}),u())}})),r.a.createElement("p",{className:"item-title"}," \xd3rden"),r.a.createElement("table",{className:"egt",key:i},r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cliente"),r.a.createElement("td",null,t)),r.a.createElement("tr",null,r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Cantidad")),r.a.createElement("tr",null,r.a.createElement("td",null,n.map((function(e){return r.a.createElement("div",{className:"row-product",key:e.product._id},e.product.name)}))),r.a.createElement("td",null,n.map((function(e){return r.a.createElement("div",{className:"row-product",key:e.product._id},e.qty)})))),r.a.createElement("tr",null,r.a.createElement("th",null,"Estado"),r.a.createElement("td",null,r.a.createElement("select",{id:"status",value:c,onChange:function(e){I(t,n,localStorage.getItem("token"),s,e.target.value,i,l).then((function(){return u()}))}},r.a.createElement("option",{value:c}," ",c),r.a.createElement("option",{value:"delivering"},"Entregando"),r.a.createElement("option",{value:"canceled"},"Cancelado"),r.a.createElement("option",{value:"delivered"},"Entregado")))),r.a.createElement("tr",null,r.a.createElement("th",null,"Fecha de creaci\xf3n"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("th",null,"Fecha de cambio de estado"),r.a.createElement("td",null,o)))))},_=function(e){return fetch("http://138.68.51.45/orders",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return 200===e.status?e.json():Promise.reject(console.log("No existe autentificaci\xf3n"))}))},T=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],m=function(){_(localStorage.getItem("token")).then((function(e){return l(""!==i?e.filter((function(e){return e.status===i})):e)}))};Object(a.useEffect)((function(){m()}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(S,{chooseCategory:function(e){u(e)}}),r.a.createElement("section",{className:"kitchen-view"},n.length>0?n.map((function(e){return r.a.createElement("div",{className:"container-order-kitchen",key:e._id},r.a.createElement("div",{className:"order-body-kitchen"},r.a.createElement(w,{_id:e._id,userId:e.userId,AllDataOrder:n,ArrayProduct:e.products,objOrder:e,client:e.client,dateEntry:e.dateEntry,status:e.status,dateProcessed:e.dateProcessed,viewAllOrder:m})))})):r.a.createElement("h5",null," No hay \xd3rdenes ")))};var q=function(){return r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/Home",component:P}),r.a.createElement(i.a,{path:"/OrdersKitchen",component:T}),r.a.createElement(i.a,{exact:!0,path:"/LIM011-fe-burger-queen-api-client",component:f}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[22,1,2]]]);
//# sourceMappingURL=main.a5d309b8.chunk.js.map